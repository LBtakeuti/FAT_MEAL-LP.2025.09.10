# 原材料フィールドのデータベース更新

## 変更内容
原材料（ingredients）フィールドを配列（TEXT[]）からテキスト（TEXT）に変更します。

## Supabaseでの更新手順

### 1. SQL Editorで以下を実行

```sql
-- ここから下をすべてコピー（ALTERの「A」も含めて） --

ALTER TABLE menu_items 
ALTER COLUMN ingredients TYPE TEXT 
USING array_to_string(ingredients, ', ');

-- ここまでコピー --
```

「Run」ボタンをクリック

### 2. 既存データの確認（オプション）

変更後のデータを確認したい場合：

```sql
-- ここから下をすべてコピー --

SELECT id, name, ingredients FROM menu_items;

-- ここまでコピー --
```

## データベース対応アダプターの更新

`lib/db-adapter.ts`も自動的に対応します：

- **入力時**: テキストとして保存
- **取得時**: テキストとして取得

## フロントエンド側の処理

管理画面では：
- **入力**: テキストエリアでカンマ区切り入力
- **表示**: そのままテキストとして表示

## 注意事項

1. **既存データ**: 配列形式のデータは自動的にカンマ区切りテキストに変換されます
2. **新規データ**: カンマ区切りのテキストとして保存されます
3. **表示**: フロントエンドではカンマで区切って表示することも可能です